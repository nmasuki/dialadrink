window.addressData=window.addressData||null,$(document).ready(function(){function n(e){if($("#lets-okhi").hide(),(e=e||{firstName:$("#firstName").val(),lastName:$("#lastName").val(),phone:$("#phoneNumber").val()}).firstName&&e.lastName&&e.phone&&10<=e.phone.length)if(window.locationCard)window.locationCard.user=e;else{var t=document.getElementById("lets-okhi-card");window.locationCard=new okhi.LocationCard({element:t,user:e,onSuccess:function(e){$("[name=address]").val(e.location.title),$("[name=building]").val(e.location.streetName),$("[name=houseNumber]").val([e.location.propertyName,e.location.directions].join(", ").trim().trim(",")),e&&e.user&&e.location?$("#lets-okhi").hide():($("#lets-okhi").show(),$("#lets-okhi-card").hide()),window.addressData=e},onError:function(e){console.warn("Eror Implimentation not done!",arguments),$("#lets-okhi").show(),$("#lets-okhi-card").hide()},style:okhiStyle})}}$("#phoneNumber").val()&&n(),$(document).on("change","#phoneNumber",function(e){n({firstName:$("#firstName").val(),lastName:$("#lastName").val(),phone:$("#phoneNumber").val()})}),$(document).on("click","#lets-okhi",function(e){e.preventDefault();var t=$(this).parents("form");$(".alert-danger").hide(),t[0].checkValidity()?function(e){(e=e||{phone:$("#phoneNumber").val(),firstName:$("#firstName").val(),lastName:$("#lastName").val()}).phone&&e.firstName&&e.lastName?new okhi.LocationManager({user:e,onSuccess:function(e){$("#lets-okhi").animate({width:"toggle"},350),$("#submitBtn").show(),$("[name=address]").val(e.location.title),$("[name=building]").val(e.location.streetName),$("[name=houseNumber]").val([e.location.propertyName,e.location.directions].join(", ").trim().trim(",")),$("#addressInputs").slideDown(),addressData=e,n()},onError:function(e){$("#lets-okhi").animate({width:"toggle"},350),$("#addressInputs").slideDown(),$(".alert-danger").find(".msg-text").html("<strong>Input Error while detecting your location!</strong> "+e),$(".alert-danger").slideDown()},style:okhiStyle}).launch({mode:"select_location"}):($(".alert-danger").find(".msg-text").html("<strong>Input Error!</strong> Invalid input found! Please review your info above."),$(".alert-danger").slideDown())}():($(".alert-danger").find(".msg-text").html("<strong>Input Error!</strong> Invalid input found! Please review your info above."),$(".alert-danger").slideDown())})});