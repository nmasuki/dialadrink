$(document).ready(function(){window.addressData=window.addressData||null,$(document).on("load","#lets-okhi iframe",function(){console.log(arguments)}),$(document).on("error","#lets-okhi iframe",function(){console.error(arguments)}),window.loadLocationCard=function(t){var o;(t=t||window.addressData?.user||{phone:$("#phoneNumber").val()||"",firstName:$("#firstName").val(),lastName:$("#lastName").val()}).phone="+"+t.phone.cleanPhoneNumber(),window.okhiCollection?window.okhiCollection.$set({userPhoneNumber:t.phone,userFirstName:t.firstName,userLastName:t.lastName}):(window.okhiCollection=new okcollect({target:document.querySelector("#lets-okhi"),props:{API_KEY:window.okhiData.okhiKey,userFirstName:t.firstName||"",userLastName:t.lastName||"",userPhoneNumber:t.phone||"",onAddressSelected:e=>{e=e,clearTimeout(o),window.addressData=e,window.addressData&&(app.cartUtil.loadCharges(window.addressData.location),app.cartUtil.updateView()),e&&e.user&&e.location&&(e.user.firstName&&$("#firstName").val(e.user.firstName),e.user.lastName&&$("#lastName").val(e.user.lastName),$("[name=address]").val(e.location.title),$("[name=building]").val(e.location.streetName),$("[name=houseNumber]").val([e.location.propertyName,e.location.directions].join(", ").trim().trim(",")))},onError:e=>{!function(e){if(clearTimeout(o),window.addressData=null,"invalid_phone"==e.code&&t.phone)return $(".alert-danger").find(".msg-text").html("<strong>"+e.message+"</strong>"),$(".alert-danger").slideDown();e.code&&($(".alert-danger").find(".msg-text").html("<strong>"+e.message+" while getting user location!</strong>"),$(".alert-danger").slideDown())}(e)},streetviewEnabled:!0,toTheDoorEnabled:!0,styleSettings:window.okhiData.style,appSettings:{name:window.okhiData.appName,version:window.okhiData.appVersion}}}),document.querySelector("#phoneNumber").addEventListener("input",e=>{e.target.value&&window.okhiCollection.$set({userPhoneNumber:"+"+e.target.value.cleanPhoneNumber()})}),document.querySelector("#firstName").addEventListener("input",e=>{window.okhiCollection.$set({userFirstName:e.target.value})}),document.querySelector("#lastName").addEventListener("input",e=>{window.okhiCollection.$set({userLastName:e.target.value})}),$("#lets-okhi").parent().show(),t.phone&&10<=t.phone.length&&(o=setTimeout(function(){window.addressData||$("#lets-okhi").html()||($("#lets-okhi").parent().hide(),$("#addressInputs").slideDown(),$(".alert-danger").find(".msg-text").html("<strong>Input Error while detecting your location! Please enter your address</strong>"),$(".alert-danger").slideDown())},5e3)))},window.loadLocationLookUp=function(e){window.loadLocationCard(e)},$(document).on("click","#lets-okhi button",function(e){window.addressData||(e.preventDefault(),$(this).parents("form"),$(".alert-danger").hide(),loadLocationLookUp())})});