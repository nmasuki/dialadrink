!function(d){var v={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};d.zoom=function(o,n,e,t){var i,c,u,a,m,s,r,l=d(o),f=l.css("position"),h=d(n);return l.css("position",/(absolute|fixed)/.test(f)?f:"relative"),l.css("overflow","hidden"),e.style.width=e.style.height="",d(e).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:e.width*t,height:e.height*t,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(o),{init:function(){c=l.outerWidth(),i=l.outerHeight(),n===l[0]?(a=c,u=i):(a=h.outerWidth(),u=h.outerHeight()),m=(e.width-c)/a,s=(e.height-i)/u,r=h.offset()},move:function(o){var n=o.pageX-r.left,t=o.pageY-r.top;t=Math.max(Math.min(t,u),0),n=Math.max(Math.min(n,a),0),e.style.left=n*-m+"px",e.style.top=t*-s+"px"}}},d.fn.zoom=function(h){return this.each(function(){var o,n,t,i=d.extend({},v,h||{}),c=i.target||this,u=this,a=d(u),e=d(c),m=document.createElement("img"),s=d(m),r="mousemove.zoom",l=!1,f=!1;(i.url||((o=a.find("img"))[0]&&(i.url=o.data("src")||o.attr("src")),i.url))&&(n=e.css("position"),t=e.css("overflow"),a.one("zoom.destroy",function(){a.off(".zoom"),e.css("position",n),e.css("overflow",t),s.remove(),m.onload=null}),m.onload=function(){function n(o){e.init(),e.move(o),s.stop().fadeTo(d.support.opacity?i.duration:0,1,!!d.isFunction(i.onZoomIn)&&i.onZoomIn.call(m))}function t(){s.stop().fadeTo(i.duration,0,!!d.isFunction(i.onZoomOut)&&i.onZoomOut.call(m))}var e=d.zoom(c,u,m,i.magnify);"grab"===i.on?a.on("mousedown.zoom",function(o){1===o.which&&(d(document).one("mouseup.zoom",function(){t(),d(document).off(r,e.move)}),n(o),d(document).on(r,e.move),o.preventDefault())}):"click"===i.on?a.on("click.zoom",function(o){return l?void 0:(l=!0,n(o),d(document).on(r,e.move),d(document).one("click.zoom",function(){t(),l=!1,d(document).off(r,e.move)}),!1)}):"toggle"===i.on?a.on("click.zoom",function(o){l?t():n(o),l=!l}):"mouseover"===i.on&&(e.init(),a.on("mouseover.zoom",n).on("mouseleave.zoom",t).on(r,e.move)),i.touch&&a.on("touchstart.zoom",function(o){o.preventDefault(),f?(f=!1,t()):(f=!0,n(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(o){o.preventDefault(),e.move(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0])}),d.isFunction(i.callback)&&i.callback.call(m)},m.src=i.url)})},d.fn.zoom.defaults=v}(window.jQuery);