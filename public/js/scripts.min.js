var touch=!1,clickEv="click";function getCookie(t){var e=document.cookie.indexOf(t)+t.length+1,t=document.cookie.indexOf(";",e);return document.cookie.substr(e,(t<0?document.cookie.length:t)-e)}function slider_main(){$.fn.carousel&&$(".carousel").carousel({interval:!1,pause:!1})}function slider_product(){$(".home1_block_product").length&&$(".home1_block_product").owlCarousel({navigation:!0,pagination:!1,autoPlay:!1,items:4,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,itemsDesktop:[1199,3],itemsDesktopSmall:[991,2],itemsTablet:[767,2],itemsTabletSmall:[540,1],itemsMobile:[360,1],navigationText:['<i class="fa fa-angle-left" title="Previous" data-toggle="tooltip" data-placement="top"></i>','<i class="fa fa-angle-right" title="Next" data-toggle="tooltip" data-placement="top"></i>']}),$(".slider-3itemsc").length&&$(".slider-3itemsc").owlCarousel({navigation:!0,pagination:!1,autoPlay:!1,items:3,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,itemsDesktop:[1199,3],itemsDesktopSmall:[979,3],itemsTablet:[768,3],itemsTabletSmall:[540,3],itemsMobile:[360,3],navigationText:['<i class="fa fa-angle-left" title="Previous" data-toggle="tooltip" data-placement="top"></i>','<i class="fa fa-angle-right" title="Next" data-toggle="tooltip" data-placement="top"></i>']}),$(".related-products .rp-slider").length&&$(".related-products .rp-slider").owlCarousel({navigation:!0,pagination:!1,items:4,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,itemsDesktop:[1199,3],itemsDesktopSmall:[991,3],itemsTablet:[767,2],itemsTabletSmall:[540,2],itemsMobile:[480,1],navigationText:['<i class="fa fa-angle-left" title="Previous" data-toggle="tooltip" data-placement="top"></i>','<i class="fa fa-angle-right" title="Next" data-toggle="tooltip" data-placement="top"></i>']}),$(".home2_product_right").length&&$(".home2_product_right").owlCarousel({navigation:!0,pagination:!1,autoPlay:!1,items:3,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,itemsDesktop:[1199,4],itemsDesktopSmall:[991,3],itemsTablet:[767,3],itemsTabletSmall:[600,2],itemsMobile:[420,1],navigationText:['<i class="fa fa-angle-left" title="Previous" data-toggle="tooltip" data-placement="top"></i>','<i class="fa fa-angle-right" title="Next" data-toggle="tooltip" data-placement="top"></i>']}),$("#home3_partner_content").length&&$("#home3_partner_content").owlCarousel({navigation:!0,pagination:!1,autoPlay:!0,items:6,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,itemsDesktop:[1199,6],itemsDesktopSmall:[979,5],itemsTablet:[768,4],itemsTabletSmall:[540,3],itemsMobile:[360,2],navigationText:['<i class="fa fa-angle-left" title="Previous" data-toggle="tooltip" data-placement="top"></i>','<i class="fa fa-angle-right" title="Next" data-toggle="tooltip" data-placement="top"></i>']}),$(".home3_featured_product").length&&$(".home3_featured_product").owlCarousel({navigation:!0,pagination:!1,autoPlay:!1,items:4,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,itemsDesktop:[1199,4],itemsDesktopSmall:[991,3],itemsTablet:[767,3],itemsTabletSmall:[600,2],itemsMobile:[420,1],navigationText:['<i class="fa fa-angle-left" title="Previous" data-toggle="tooltip" data-placement="top"></i>','<i class="fa fa-angle-right" title="Next" data-toggle="tooltip" data-placement="top"></i>']})}function handleDropdown(){$(".dropdown-toggle").length&&($(".dropdown-toggle").parent().hover(function(){0==touch&&767<getWidthBrowser()&&$(this).find(".dropdown-menu").stop(!0,!0).slideDown(300)},function(){0==touch&&767<getWidthBrowser()&&$(this).find(".dropdown-menu").hide()}),$(".dropdown-toggle").parent().click(function(t){0==touch&&$(this).find(".dropdown-menu").stop(!0,!0).slideDown(300)})),$("nav .dropdown-menu").each(function(){$(this).find("li").last().addClass("last")}),$(".dropdown").on("click",function(){var t;0==touch&&767<getWidthBrowser()&&((t=$(this).find("a.dropdown-toggle").attr("href"))&&(window.location=t))}),$(".cart-link").on("click",function(){var t;0==touch&&767<getWidthBrowser()&&(t=$(this).find(".dropdown-link").attr("href"),window.location=t)})}function getWidthBrowser(){var t;return"number"==typeof window.innerWidth?t=window.innerWidth:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?t=document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(t=document.body.clientWidth),t}function handleScrollTop(){function o(t){var e=$("#scroll-to-top"),o=$(".cart-float-right");"on"==t?(o.addClass("on fadeInRight ").removeClass("off fadeOutRight"),e.addClass("on fadeInRight ").removeClass("off fadeOutRight")):(o.addClass("off fadeOutRight animated").removeClass("on fadeInRight"),e.addClass("off fadeOutRight animated").removeClass("on fadeInRight"))}$(window).scroll(function(){var t=$(this).scrollTop(),e=$(this).height();o((t=0<t?t+e/2:1)<1e3&&t<e?"off":"on")}),$("#scroll-to-top").click(function(t){t.preventDefault(),$("body,html").animate({scrollTop:0},800,"swing")})}function ModalNewsletter(){}function startDictation(){var e;window.hasOwnProperty("webkitSpeechRecognition")&&((e=new webkitSpeechRecognition).continuous=!1,e.interimResults=!1,e.lang="en-US",e.start(),e.onresult=function(t){t=t.results[0][0].transcript;e.stop(),console.log(t),window.location.href="/search/"+t},e.onerror=function(t){e.stop()})}function handleSearchingAndPaging(){$("#search_box").on("change",function(){$(this).data("mobile")&&($(this).val()?$("#search").attr("src","/assets/icon-search.png"):$("#search").attr("src","/assets/icon-voice-search.svg"))}),$("#search").on("click",function(t){t.preventDefault();t=$("#search_box").val();t?(console.log(t),window.location.href="/search/"+t):startDictation.call(this)}),$(".disabled a, a.disabled").on("click",function(t){t.preventDefault()})}function handleSearchAutoComplete(){$.fn.autocomplete?$("#search_box").autocomplete({source:function(t,e){$.ajax({url:"/search/"+t.term,dataType:"json",success:function(t){e(t.data)}})},minLength:2,select:function(t,e){e=(e.item.name||e.item).cleanId();""!==e&&(console.log(e),window.location.href="/search/"+e)},fucus:function(t,e){e=(e.item.name||e.item).cleanId();""!==e&&(console.log(e),window.location.href="/search/"+e)}}).data("ui-autocomplete")._renderItem=function(t,e){var o="<div><img style='height:32px;width: 32px' src='{0}'/>{1}</div>".format(e.image,e.name);return $("<li></li>").data("item.autocomplete",e).append(o).appendTo(t)}:setTimeout(handleSearchAutoComplete,1e3)}function checkcookie(){}function handleQuantity(){$(".quantity-wrapper").length&&($(".quantity-wrapper").on(clickEv,".qty-up",function(){var t=$(this).data("src");$(t).val(parseInt($(t).val())+1)}),$(".quantity-wrapper").on(clickEv,".qty-down",function(){var t=$(this).data("src");1<parseInt($(t).val())&&$(t).val(parseInt($(t).val())-1)}))}function colorwarches(){jQuery(".swatch :radio").change(function(){var t=jQuery(this).closest(".swatch").attr("data-option-index"),e=jQuery(this).val();jQuery(this).closest("form").find(".single-option-selector").eq(t).val(e).trigger("change")})}function handleGridList(){$("#goList").length&&$("#goList").on(clickEv,function(t){$(this).parent().find("li").removeClass("active"),$(this).addClass("active"),$(".collection-items").addClass("full_width ListMode"),$(".collection-items").removeClass("no_full_width GridMode"),$(".collection-items .row-left").addClass("col-md-5"),$(".collection-items .row-right").addClass("col-md-7"),$(".collection-items .product-item").removeClass("col-sm-3 col-sm-4"),$(".grid-mode").addClass("hide"),$(".list-mode").removeClass("hide")}),$("#goGrid").length&&$("#goGrid").on(clickEv,function(t){$(this).parent().find("li").removeClass("active"),$(this).addClass("active"),$(".collection-items").removeClass("full_width ListMode"),$(".collection-items").addClass("no_full_width GridMode"),$(".collection-items .row-left").removeClass("col-md-5"),$(".collection-items .row-right").removeClass("col-md-7"),$(".collection-items .product-item").addClass("col-sm-4"),$(".grid-mode").removeClass("hide"),$(".list-mode").addClass("hide")})}function toggleTagsFilter(){var t,e;768<=window.innerWidth&&(t=document.getElementById("showTagsFilter"),e=document.getElementById("tags-filter-content"),null!=t&&(t.onclick=function(){classie.toggle(this,"closed"),classie.toggle(e,"tags-closed"),classie.has(this,"closed")?$("#showTagsFilter").html("Filter <i class='fa fa-angle-down'></i>"):$("#showTagsFilter").html("Filter <i class='fa fa-angle-up'></i>")}))}function handleMap(){jQuery().gMap&&$("#contact_map").length&&$("#contact_map").gMap({zoom:17,scrollwheel:!1,maptype:"ROADMAP",markers:[{address:"474 Ontario St Toronto, ON M4X 1M7 Canada",html:"_address"}]})}function toggleLeftMenu(){var t,e,o;window.innerWidth<=767&&(t=document.getElementById("is-mobile-nav-menu"),e=document.getElementById("showLeftPush"),o=document.body,e.onclick=function(){classie.toggle(this,"active"),classie.toggle(o,"pushed"),classie.toggle(t,"leftnavi-open"),classie.has(this,"active")?$("#showLeftPush").html("<i class='fa fa-times fa-2x'></i>"):$("#showLeftPush").html("<i class='fa fa-bars fa-2x'></i>")})}function updateScrollThumbsQS(){$("#gallery_main_qs").length&&($("#quick-shop-image .fancybox").on(clickEv,function(){var o=[],a=0;return $("#gallery_main_qs .image-thumb").each(function(t,e){o.push({href:e.href,title:e.title}),$(this).hasClass("active")&&(a=t)}),$.fancybox(o,{closeBtn:!0,index:a,helpers:{buttons:{}}}),!1}),$("#quick-shop-image").on(clickEv,".image-thumb",function(){var t=$(this),e=$(".product-image .main-image .main-image-bg"),o=t.parents(".product-image-wrapper"),a=t.attr("data-image-zoom"),i=t.attr("data-image");return e.show(),o.find(".image-thumb").removeClass("active"),t.addClass("active"),o.find(".main-image").find("img").attr("data-zoom-image",a),o.find(".main-image").find("img").attr("src",i).load(function(){e.hide()}),!1}))}function addClassFirst(){var e=1,o=0;-1!=$(".main-content section").first().attr("class").indexOf("home3_slideshow")&&(o=1),$(".main-content section").each(function(t){if(2==e&&1==o)-1!=$(this).attr("class").indexOf("home3_topbanner")&&($(this).addClass("padding-80"),$(".main-content section").first().addClass("padding-80"));else if(2==e&&0==o)$(this).attr("class").indexOf("main-slideshow");else if(2<e)return!1;e++})}function handleProductRating(){$(document).on("mouseover",".unrated .glyphicon",function(t){for(var e=$(this).index(),o=0;o<=e;o++)$(".unrated .glyphicon").eq(o).css("color","orange")}),$(document).on("mouseout",".unrated",function(){$(this).find(".glyphicon").css("color","black")}),$(document).on("click",".unrated .glyphicon",function(t){var e=$(this);e.parent().removeClass("unrated").addClass("rated");var o=e.parents("[data-product]").data("product");$.ajax(["/product/rate",o,parseInt(e.index())+1].join("/"))}),$(document).on("click",".thumbnail",function(t){var e=$(this).find("img").data("img");e&&$(".image-responsive").attr("src",e).parent().css({"background-image":"url('"+e+"')"})})}function loadParticles(){var t,e=null,o={valentines:"14 Feb",chrismass:"25 Dec"};for(t in o){var a=new Date,i=(new Date).getFullYear(),i=new Date(o[t]+" "+i);if(a>i.addDays(-7)&&a<i.addDays(5)){e=t;break}}e&&$.getScript("/js/particles/particles.min.js").then(function(){window.particlesJS&&window.particlesJS.load("dad_Body","/js/particles/data/"+e+".json")})}function ioLazyLoad(){var t={root:document.querySelector(".main-content"),rootMargin:"0px",threshold:1};var o=new IntersectionObserver(function(t){t.forEach(function(t){var e;.9<t.intersectionRatio&&(e=t.target,setTimeout(function(){var t=$(e).is("img")?e:e.querySelector("img");t.src=t.dataset.src},1e3),t.target.classList.add("active"),o.unobserve(t.target))})},t);$("img[data-src]").each(function(t,e){o.observe(e)})}function onTouchStart(t){console.log.apply(this,arguments)}function handleProductSorting(){function i(a,i){return function(t){var e=$(t||this).find("script.json").text()||"{}",o=JSON.parse(e)||{};if(i){t=new RegExp(i,"i"),e=o[a]&&(o[a].name||o[a]||"");return(e=$.isArray(e)?e.join(","):e)&&t.test(e)}return"price"==a&&o.offerPrice?o.offerPrice:"popularity"==a?-o.popularityRatio:"size"==a?o.options&&o.options.length?o.options.max(function(t){return function(t){if(!t)return 0;var e=(t=t.toLowerCase()).replace(/([^\d.]+)/,"").trim()||0,o=t.replace(/([\d.]+)/,"").trim()||"ml";return 0<=t.indexOf(".")&&console.log(t,e,o),"l"==o[0]?1e3*parseFloat(e):parseFloat(e)}(t.quantity)}):0:"tags"==a?(o[a]||[]).sort()[0]:o[a]}}var t,n=$(".products-grid");n.isotope?(window.isMobile&&window.getWidthBrowser()<=700&&n.find(".col-sm-12.single").css({width:"100%"}),n.isotope({getSortData:{name:i("name"),popularity:i("popularity"),price:i("price"),size:i("size")}}),$(document).on("click",".filter",function(t){var o,a;$(this).hasClass("active")?($(this).removeClass("active"),n.isotope({filter:"*"})):(o=["category","subCategory","brand","tags"],a=$(this).data("filterby"),o&&($(this).siblings(".active").removeClass("active"),$(this).addClass("active"),n.isotope({filter:function(e){return e=e||this,o.any(function(t){return i(t,a)(e)})}})))}),$(document).on("click",".sort-products",function(t){$(this).parents(".dropdown-menu").hide();var a=$(this).data("sortby")||"name",e=!(n.data("sortBy")==a&&"asc"==(n.data("sortDir")||"asc")),i=e?"asc":"desc";function o(t,e){var o=i;"popularity"==a&&(o="desc"==i?"asc":"desc");o=($(e).attr("class")||"").replace(/(asc|desc)/,o);o&&$(e).attr("class",o)}n.isotope({sortBy:a,sortAscending:e}),n.data("sortBy",a).data("sortDir",i),app.setCookie("sortBy",a).setCookie("sortDir",i),console.log("Sorting by "+a+" "+i),$(this).find("i.fa").each(o),$(".sorting, .sorting .fa").each(o),$(".sorting #sortby").text("Sorted by "+$(this).text())}),t=app.getCookie("sortBy")||"popularity",$(".sort-products[data-sortby="+t+"]").trigger("click")):($(".filter, .sorting").hide(),console.log("$.fn.isotope not defined. Waiting.."),setTimeout(handleProductSorting,500))}$.ajaxSetup({beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",getCookie("XSRF-TOKEN"))}}),$(window).resize(function(){toggleLeftMenu()}),$(document).ready(function(t){document.addEventListener("touchstart",onTouchStart,{passive:!0}),t.fn.tooltip&&t('[data-toggle="tooltip"]').tooltip(),t(document).on("mousemove touchmove","figure.zoom",function(t){var e=t.currentTarget,o=t.offsetX||t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0].pageX,a=t.offsetY||t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0].pageY;x=Math.min(100,Math.max(0,o/e.offsetWidth*100)),y=Math.min(100,Math.max(0,a/e.offsetHeight*100)),e.style.backgroundPosition=x+"% "+y+"%",t.stopPropagation()}),handleProductSorting(),loadParticles(),ioLazyLoad(),slider_main(),slider_product(),handleProductRating(),handleDropdown(),handleScrollTop(),handleSearchingAndPaging(),handleSearchAutoComplete(),colorwarches(),handleQuantity(),handleGridList(),toggleTagsFilter(),handleMap(),toggleLeftMenu(),updateScrollThumbsQS(),addClassFirst()}),$(window).load(function(){});